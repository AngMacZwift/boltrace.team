<p>
	Individual results: <a href='#a-grade-individual'>A Grade</a> | <a href='#b-grade-individual'>B Grade</a> | <a href='#c-grade-individual'>C Grade</a> | <a href='#d-grade-individual'>D Grade</a><br/>
	Team results: <a href='#a-grade-team'>A Grade</a> | <a href='#b-grade-team'>B Grade</a> | <a href='#c-grade-team'>C Grade</a> | <a href='#d-grade-team'>D Grade</a>
</p>

<h3>Individual Results</h3>
{% assign graded_results = include.riders | group_by: "category" | sort: "name" %}
{% assign a_size = graded_results[0].items.size %}
{% assign b_size = graded_results[1].items.size %}
{% assign c_size = graded_results[2].items.size %}
{% assign d_size = graded_results[3].items.size %}
<style type='text/css'>
.even {
	background-color: rgb(214, 208, 208);
}
.odd {
	background-color: rgb(224, 218, 218);
}
td {
	padding-left: 1em;
	padding-right: 1em;
	color: black;
}
th {
	padding-left: 1em;
	padding-right: 1em;
	text-align: left;
}
thead {
	background-color: rgba(242, 120, 12, 1);
}
</style>
<style type='text/css'>
#individual-results td.team-badge {
	text-align: right;
}
#team-results td.team-badge {
	text-align: left;
}
td.team-badge {
	padding-top: 3px;
	padding-bottom: 3px;
}
td.team-badge > span {
	font-size: 75%;
	padding-top: 2px;
	padding-left: 4px;
	padding-right: 4px;
	border-style: solid;
	border-width: 2px;
}
</style>
<table id='individual-results'>
	<thead class='a-grade' id='a-grade-individual'>
			<tr style='background-color: red'>
					<th colspan='4'>A Grade</th>
				</tr>
			<tr style='background-color: red'>
<th>Name</th><th style='text-align: right'>Team</th><th style='text-align: center'>E</th><th style='text-align: center'>P</th>
</tr>
</thead>
<tbody class='a-grade'>
	{% for i in (1..a_size) %}
		{% assign item = graded_results[0].items[forloop.index0] %}
		{% assign gold = item.podiums | remove: "silver" | remove: "bronze" %}
		{% assign silver = item.podiums | remove: "gold" | remove: "bronze" %}
		{% assign bronze = item.podiums | remove: "silver" | remove: "gold" %}
		{% assign podiums = gold | append: " " | append: silver | append: " " | append: bronze | split: " " %}
	<tr class='{% cycle "even", "odd" %}'>
		<td>{{ item.name }}
			{% for p in podiums reversed %}
				<i class='fas fa-trophy {{ p }}'></i>
			{% endfor %}
		</td>
			{% assign tnamesize = item.tname.size %}
			{% if tnamesize > 0 %}
				{% assign border = item.tbd %}
				{% if border == "ffffff" %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
				{% else %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
				{% endif %}
			{% else %}
			<td></td>
			{% endif %}
			<td style='text-align: right'>{{ item.events }}</td>
			<td style='text-align: right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
<thead class='b-grade' id='b-grade-individual'>
		<tr style='background-color: green'>
				<th colspan='4'>B Grade</th>
			</tr>
		<tr style='background-color: green'>
	<th>Name</th><th style='text-align: right'>Team</th><th style='text-align: center'>E</th><th style='text-align: center'>P</th>
	</tr>
	</thead>
<tbody class='b-grade'>
	{% for i in (1..b_size) %}
		{% assign item = graded_results[1].items[forloop.index0] %}
		{% assign gold = item.podiums | remove: "silver" | remove: "bronze" %}
		{% assign silver = item.podiums | remove: "gold" | remove: "bronze" %}
		{% assign bronze = item.podiums | remove: "silver" | remove: "gold" %}
		{% assign podiums = gold | append: " " | append: silver | append: " " | append: bronze | split: " " %}
	<tr class='{% cycle "even", "odd" %}'>
			<td>{{ item.name }}
				{% for p in podiums reversed %}
					<i class='fas fa-trophy {{ p }}'></i>
				{% endfor %}
			</td>
			{% assign tnamesize = item.tname.size %}
			{% if tnamesize > 0 %}
				{% assign border = item.tbd %}
				{% if border == "ffffff" %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
				{% else %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
				{% endif %}
			{% else %}
			<td></td>
			{% endif %}
			<td style='text-align: right'>{{ item.events }}</td>
			<td style='text-align: right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
<thead class='c-grade' id='c-grade-individual'>
		<tr style='background-color: lightseagreen'>
				<th colspan='4'>C Grade</th>
			</tr>
		<tr style='background-color: lightseagreen'>
	<th>Name</th><th style='text-align: right'>Team</th><th style='text-align: center'>E</th><th style='text-align: center'>P</th>
	</tr>
	</thead>
<tbody class='c-grade'>
	{% for i in (1..c_size) %}
		{% assign item = graded_results[2].items[forloop.index0] %}
		{% assign gold = item.podiums | remove: "silver" | remove: "bronze" %}
		{% assign silver = item.podiums | remove: "gold" | remove: "bronze" %}
		{% assign bronze = item.podiums | remove: "silver" | remove: "gold" %}
		{% assign podiums = gold | append: " " | append: silver | append: " " | append: bronze | split: " " %}
	<tr class='{% cycle "even", "odd" %}'>
			<td>{{ item.name }}
				{% for p in podiums reversed %}
					<i class='fas fa-trophy {{ p }}'></i>
				{% endfor %}
			</td>
			{% assign tnamesize = item.tname.size %}
			{% if tnamesize > 0 %}
				{% assign border = item.tbd %}
				{% if border == "ffffff" %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
				{% else %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
				{% endif %}
			{% else %}
			<td></td>
			{% endif %}
			<td style='text-align: right'>{{ item.events }}</td>
			<td style='text-align: right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
<thead class='d-grade' id='d-grade-individual'>
		<tr style='background-color: orange'>
				<th colspan='4'>D Grade</th>
			</tr>
		<tr style='background-color: orange'>
	<th>Name</th><th style='text-align: right'>Team</th><th style='text-align: center'>E</th><th style='text-align: center'>P</th>
	</tr>
	</thead>
<tbody class='d-grade'>
	{% for i in (1..d_size) %}
		{% assign item = graded_results[3].items[forloop.index0] %}
		{% assign gold = item.podiums | remove: "silver" | remove: "bronze" %}
		{% assign silver = item.podiums | remove: "gold" | remove: "bronze" %}
		{% assign bronze = item.podiums | remove: "silver" | remove: "gold" %}
		{% assign podiums = gold | append: " " | append: silver | append: " " | append: bronze | split: " " %}
	<tr class='{% cycle "even", "odd" %}'>
			<td>{{ item.name }}
				{% for p in podiums reversed %}
					<i class='fas fa-trophy {{ p }}'></i>
				{% endfor %}
			</td>
			{% assign tnamesize = item.tname.size %}
			{% if tnamesize > 0 %}
				{% assign border = item.tbd %}
				{% if border == "ffffff" %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
				{% else %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
				{% endif %}
			{% else %}
			<td></td>
			{% endif %}
			<td style='text-align: right'>{{ item.events }}</td>
			<td style='text-align: right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
</table>
{% assign team_results = include.teams | group_by: "category" | sort: "name" %}
{% assign a_size = team_results[0].items.size %}
{% assign b_size = team_results[1].items.size %}
{% assign c_size = team_results[2].items.size %}
{% assign d_size = team_results[3].items.size %}
<h3>Team Results</h3>
<table id='team-results'>
	<thead class='a-team-grade' id='a-grade-team'>
		<tr style='background-color: red'>
			<th colspan='3'>A Grade</th>
		</tr>
	<tr style='background-color: red'>
<th>Team</th><th style='text-align: right'>Results</th><th style='text-align: right'>Points</th>
</tr>
</thead>
<tbody class='a-team-grade'>
	{% for i in (1..a_size) %}
		{% assign item = team_results[0].items[forloop.index0] %}
	<tr class='{% cycle "even", "odd" %}'>
		{% assign tnamesize = item.tname.size %}
		{% assign border = item.tbd %}
		{% if border == "ffffff" %}
			<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
		{% else %}
			<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
		{% endif %}
	<td style='text-align:right'>{{ item.events }}</td>
	<td style='text-align:right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
<thead class='b-team-grade' id='b-grade-team'>
		<tr style='background-color: green'>
				<th colspan='3'>B Grade</th>
			</tr>
		<tr style='background-color: green'>
	<th>Team</th><th style='text-align: right'>Results</th><th style='text-align: right'>Points</th>
	</tr>
	</thead>
<tbody class='b-team-grade'>
	{% for i in (1..b_size) %}
		{% assign item = team_results[1].items[forloop.index0] %}
	<tr class='{% cycle "even", "odd" %}'>
			{% assign tnamesize = item.tname.size %}
				{% assign border = item.tbd %}
				{% if border == "ffffff" %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
				{% else %}
					<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
				{% endif %}
			<td style='text-align:right'>{{ item.events }}</td>
			<td style='text-align:right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
<thead class='c-team-grade' id='c-grade-team'>
		<tr style='background-color: lightseagreen'>
				<th colspan='3'>C Grade</th>
			</tr>
		<tr style='background-color: lightseagreen'>
		<th>Team</th><th style='text-align: right'>Results</th><th style='text-align: right'>Points</th>
	</tr>
	</thead>
<tbody class='c-team-grade'>
	{% for i in (1..c_size) %}
		{% assign item = team_results[2].items[forloop.index0] %}
	<tr class='{% cycle "even", "odd" %}'>
		{% assign tnamesize = item.tname.size %}
		{% assign border = item.tbd %}
		{% if border == "ffffff" %}
			<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
		{% else %}
			<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
		{% endif %}
	<td style='text-align:right'>{{ item.events }}</td>
	<td style='text-align:right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
<thead class='d-team-grade' id='d-grade-team'>
		<tr style='background-color: orange'>
				<th colspan='3'>D Grade</th>
			</tr>
		<tr style='background-color: orange'>
			<th>Team</th><th style='text-align: right'>Results</th><th style='text-align: right'>Points</th>
	</tr>
	</thead>
<tbody class='d-team-grade'>
	{% for i in (1..d_size) %}
		{% assign item = team_results[3].items[forloop.index0] %}
	<tr class='{% cycle "even", "odd" %}'>
		{% assign tnamesize = item.tname.size %}
		{% assign border = item.tbd %}
		{% if border == "ffffff" %}
			<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbc}}'>{{ item.tname }}</span></td>
		{% else %}
			<td class='team-badge'><span style='background-color: {{item.tbc}}; color:{{item.tc}}; border-color: {{item.tbd}}'>{{ item.tname }}</span></td>
		{% endif %}
	<td style='text-align:right'>{{ item.events }}</td>
	<td style='text-align:right'>{{ item.points }}</td>
	</tr>
	{% endfor %}
</tbody>
</table>
